# Imagen 3 Customization - –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏! ‚úÖ

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. API –º–æ–¥—É–ª—å - `imagen3_custom_api.py` (5.0 KB)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `imagen-3.0-capability-001`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1-4 —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –¢–∏–ø—ã —Å—É–±—ä–µ–∫—Ç–æ–≤: person, animal, product, default
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 2. Helper –¥–ª—è –±–æ—Ç–∞ - `imagen3_custom_helper.py` (5.9 KB)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ [1], [2] –≤ –ø—Ä–æ–º–ø—Ç
- –ü–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —á–µ—Ä–µ–∑ ChatGPT
- Watermark –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Google Sheets

### 3. –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã - –æ–±–Ω–æ–≤–ª—ë–Ω `keyboards.py`
- `subject_type_kb()` - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Å—É–±—ä–µ–∫—Ç–∞ (üë§ üêæ üì¶ üé®)
- `reference_upload_kb()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞–º–∏

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `IMAGEN3_CUSTOM_INTEGRATION.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `CLAUDE.md` - –æ–±–Ω–æ–≤–ª—ë–Ω —Å –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π flow:

```
1. /start ‚Üí –í—ã–±–æ—Ä "üë§ Imagen 3 Custom (—Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º)"
   ‚Üì
2. –í—ã–±–æ—Ä —Ç–∏–ø–∞: –ß–µ–ª–æ–≤–µ–∫ / –ñ–∏–≤–æ—Ç–Ω–æ–µ / –ü—Ä–æ–¥—É–∫—Ç / –î—Ä—É–≥–æ–µ
   ‚Üì
3. –ó–∞–≥—Ä—É–∑–∫–∞ 1-4 —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö —Ñ–æ—Ç–æ
   ‚Üì
4. –í–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–∞: "standing on a beach at sunset"
   ‚Üì
5. –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞: 1:1 / 16:9 / 9:16 / 3:4 / 4:3
   ‚Üì
6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è (~30-60 —Å–µ–∫)
   ‚Üì
7. –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º/–æ–±—ä–µ–∫—Ç–æ–º
```

### –ü—Ä–∏–º–µ—Ä:
**–†–µ—Ñ–µ—Ä–µ–Ω—Å:** –§–æ—Ç–æ –≤–∞—à–µ–≥–æ –ª–∏—Ü–∞
**–ü—Ä–æ–º–ø—Ç:** "wearing a spacesuit on Mars"
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∞—à–µ –ª–∏—Ü–æ –≤ —Å–∫–∞—Ñ–∞–Ω–¥—Ä–µ –Ω–∞ –ú–∞—Ä—Å–µ! üöÄ

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **Model:** `imagen-3.0-capability-001`
- **Endpoint:** `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-capability-001:predict`
- **Timeout:** 180 —Å–µ–∫—É–Ω–¥ (3 –º–∏–Ω—É—Ç—ã)
- **–§–æ—Ä–º–∞—Ç—ã:** 1:1, 3:4, 4:3, 9:16, 16:9

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–º —Ñ–æ—Ç–æ:
‚úÖ –û–±—ä–µ–∫—Ç –ø–æ —Ü–µ–Ω—Ç—Ä—É (>50% –∫–∞–¥—Ä–∞)
‚úÖ –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
‚úÖ –§—Ä–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∫—É—Ä—Å
‚úÖ –ë–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π (–æ—á–∫–∏, –º–∞—Å–∫–∏)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ú–∞–∫—Å–∏–º—É–º 4 —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö —Ñ–æ—Ç–æ
- 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- –¢–µ –∂–µ –ª–∏–º–∏—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ –∏ —É –¥—Ä—É–≥–∏—Ö –¥–≤–∏–∂–∫–æ–≤

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ bot.py

**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é:**

1. **–ò–º–ø–æ—Ä—Ç—ã** (–≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞):
```python
from imagen3_custom_helper import generate_imagen3_custom_image
from keyboards import subject_type_kb, reference_upload_kb
```

2. **–û–ø—Ü–∏—é –≤ –º–µ–Ω—é –¥–≤–∏–∂–∫–æ–≤** (~—Å—Ç—Ä–æ–∫–∞ 10-16):
```python
[InlineKeyboardButton("üë§ Imagen 3 Custom", callback_data="engine_imagen3_custom")]
```

3. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callbacks**:
   - `engine_imagen3_custom` - –≤—ã–±–æ—Ä –¥–≤–∏–∂–∫–∞
   - `subject_*` - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Å—É–±—ä–µ–∫—Ç–∞
   - `ref_*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞–º–∏

4. **Photo handler** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ

5. **Text handler** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è Imagen 3 Custom

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [IMAGEN3_CUSTOM_INTEGRATION.md](IMAGEN3_CUSTOM_INTEGRATION.md)

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚ú® **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö
- –ü—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —Å –≤–∞—à–∏–º —Ç–æ–≤–∞—Ä–æ–º
- –ü–∏—Ç–æ–º—Ü—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ö

üéØ **–î–ª—è –±–æ—Ç–∞:**
- –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –ø–ª–∞—Ç–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Google Imagen

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã** - imagen3_custom_api.py, imagen3_custom_helper.py
2. ‚úÖ **–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã** - keyboards.py –æ–±–Ω–æ–≤–ª—ë–Ω
3. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞** - IMAGEN3_CUSTOM_INTEGRATION.md
4. ‚è≥ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ bot.py** - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (—Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)
5. ‚è≥ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
6. ‚è≥ **–î–µ–ø–ª–æ–π** - –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞

---

## –§–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
scp imagen3_custom_api.py root@31.44.7.144:/root/bots/usp/
scp imagen3_custom_helper.py root@31.44.7.144:/root/bots/usp/
scp keyboards.py root@31.44.7.144:/root/bots/usp/
```

–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ bot.py:
```bash
scp bot.py root@31.44.7.144:/root/bots/usp/
ssh root@31.44.7.144 'cd /root/bots/usp && pkill -9 -f "python3 bot.py" && rm -f /tmp/imagegen_bot.lock && nohup python3 bot.py > bot.log 2>&1 &'
```

---

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏!**

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- imagen3_custom_api.py (5.0 KB)
- imagen3_custom_helper.py (5.9 KB)
- keyboards.py (–æ–±–Ω–æ–≤–ª—ë–Ω)
- IMAGEN3_CUSTOM_INTEGRATION.md
- CLAUDE.md (–æ–±–Ω–æ–≤–ª—ë–Ω)

**–î–∞—Ç–∞:** 2026-02-22
**API:** Google Imagen 3 Customization (`imagen-3.0-capability-001`)
**–í–µ—Ä—Å–∏—è:** 1.0

---

**–ì–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –≤–∞—à Telegram –±–æ—Ç!** üöÄ
