# üìä –ö–û–ú–ü–õ–ï–ö–°–ù–´–ô –û–¢–ß–Å–¢ –û –ü–†–û–í–ï–†–ö–ï –§–£–ù–ö–¶–ò–û–ù–ê–õ–ê –ë–û–¢–ê

**–ë–æ—Ç:** @UspeshnyyImageGen_bot
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-12-02
**–°–µ—Ä–≤–µ—Ä:** root@31.44.7.144
**–ü—É—Ç—å:** ~/bots/usp
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–ü–£–©–ï–ù (PID: 1728002)

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#1-–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
2. [–î–≤–∏–∂–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#2-–¥–≤–∏–∂–∫–∏-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
3. [AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](#3-ai-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
4. [–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã](#4-—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ-—Ä–µ–∂–∏–º—ã)
5. [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#5-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
6. [–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ GCS](#6-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞-gcs)
7. [–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤](#7-—Å–∏—Å—Ç–µ–º–∞-–ø—Ä–µ—Å–µ—Ç–æ–≤)
8. [–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π](#8-—Å–∏—Å—Ç–µ–º–∞-–ø–ª–∞—Ç–µ–∂–µ–π)
9. [–õ–∏–º–∏—Ç—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã](#9-–ª–∏–º–∏—Ç—ã-–∏-—Ä–µ—Ñ–µ—Ä–∞–ª—ã)
10. [–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π](#10-–∏—Å—Ç–æ—Ä–∏—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏–π)
11. [Google Sheets](#11-google-sheets)
12. [Telegram Mini App](#12-telegram-mini-app)
13. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#13-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
14. [–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã](#14-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
15. [–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞](#–∏—Ç–æ–≥–æ–≤–∞—è-–æ—Ü–µ–Ω–∫–∞)

---

## ‚úÖ 1. –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´

**–°—Ç–∞—Ç—É—Å:** 15/15 ‚Äî **100%**

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ | ‚úÖ |
| `/new` | –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è) | ‚úÖ |
| `/editmy` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | ‚úÖ |
| `/help` | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (help.html) | ‚úÖ |
| `/profile` | –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚úÖ |
| `/expiry` | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π | ‚úÖ |
| `/prompts` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏ | ‚úÖ |
| `/lib` | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (GCS) | ‚úÖ |
| `/presets` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | ‚úÖ |
| `/buy` | –ü–æ–∫—É–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π | ‚úÖ |
| `/styletransfer` | –ü–µ—Ä–µ–Ω–æ—Å —Å—Ç–∏–ª—è –º–µ–∂–¥—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ | ‚úÖ |
| `/styleguide` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∏–ª—é —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ | ‚úÖ |
| `/sketch` | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–±—Ä–æ—Å–∫–æ–≤ | ‚úÖ |

### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `/admin_users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ |
| `/admin_add` | –î–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | ‚úÖ |

---

## ‚úÖ 2. –î–í–ò–ñ–ö–ò –ì–ï–ù–ï–†–ê–¶–ò–ò

**–°—Ç–∞—Ç—É—Å:** 3/3 ‚Äî **100%**

### Stable Diffusion 3.5

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ä–µ–º—è | –°—Ç–∞—Ç—É—Å |
|--------|----------|-------|--------|
| **SD 3.5 Large** | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è | ~45 —Å–µ–∫ | ‚úÖ |
| **SD 3.5 Large Turbo** | –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–∞—á–µ—Å—Ç–≤–æ–º | ~30 —Å–µ–∫ | ‚úÖ |
| **SD 3.5 Medium** | –ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ | ~25 —Å–µ–∫ | ‚úÖ |
| **SD 3.5 Flash** | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å | ~15 —Å–µ–∫ | ‚úÖ |

### DALL-E

| –ú–æ–¥–µ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|--------|
| **DALL-E 3** | –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ, HD | ‚úÖ |
| **DALL-E 2** | –ë—ã—Å—Ç—Ä–µ–µ | ‚úÖ |

**–†–∞–∑–º–µ—Ä—ã DALL-E 3:** 1024x1024, 1024x1792, 1792x1024
**–†–∞–∑–º–µ—Ä—ã DALL-E 2:** 256x256, 512x512, 1024x1024

### OpenAI GPT –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤

| –ú–æ–¥–µ–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|------------|--------|
| **GPT-4o** | –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ | ‚úÖ |
| **GPT-5** | –ë–æ–ª–µ–µ —É–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ | ‚úÖ |

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (Shot, Angle, Lighting)

---

## ‚úÖ 3. AI –ò–ù–°–¢–†–£–ú–ï–ù–¢–´

**–°—Ç–∞—Ç—É—Å:** 9/9 ‚Äî **100%**

### –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–ù–ï –¢–†–ê–¢–Ø–¢ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | API | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|-----|----------|--------|
| **üîç Upscale** | `stability.ai/v2beta/stable-image/upscale/conservative` | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è 2x-4x | ‚úÖ |
| **üñåÔ∏è Remove Background** | `stability.ai/v2beta/stable-image/edit/remove-background` | PNG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é | ‚úÖ |
| **üë§ Face Restore** | `stability.ai/v2beta/stable-image/upscale/creative` | –£–ª—É—á—à–µ–Ω–∏–µ –ª–∏—Ü, –∫–æ–∂–∏, –≥–ª–∞–∑ | ‚úÖ |
| **üé® Inpaint** | `stability.ai/v2beta/stable-image/edit/inpaint` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –º–∞—Å–∫–µ | ‚úÖ |

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–ù–ï –¢–†–ê–¢–Ø–¢ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | API | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|-----|----------|--------|
| **üñºÔ∏è Outpaint** | `stability.ai/v2beta/stable-image/edit/outpaint` | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü –¥–æ 2000px | ‚úÖ |
| **üé® Search & Recolor** | `stability.ai/v2beta/stable-image/edit/search-and-recolor` | –ü–æ–∏—Å–∫ –∏ –ø–µ—Ä–µ–∫—Ä–∞—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ | ‚úÖ |
| **üîÑ Search & Replace** | `stability.ai/v2beta/stable-image/edit/search-and-replace` | –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ –æ–±—ä–µ–∫—Ç–æ–≤ | ‚úÖ |
| **üóëÔ∏è Erase Object** | `stability.ai/v2beta/stable-image/edit/erase` | –£–º–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ | ‚úÖ |

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|-----------|----------|--------|
| **üé≠ Variations** | 1 –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–π (strength=0.5) | ‚úÖ |

**–ö–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- –§–∞–π–ª: [ai_tools.py](~/bots/usp/ai_tools.py)
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: 13 —Ç–æ—á–µ–∫ –¥–ª—è edited –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## ‚úÖ 4. –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –†–ï–ñ–ò–ú–´

**–°—Ç–∞—Ç—É—Å:** 3/3 ‚Äî **100%**

| –†–µ–∂–∏–º | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|------|----------|--------|
| **üé® Style Transfer** | [style_transfer.py](~/bots/usp/style_transfer.py) | –ü–µ—Ä–µ–Ω–æ—Å —Å—Ç–∏–ª—è –º–µ–∂–¥—É –¥–≤—É–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ | ‚úÖ |
| **üé® Style Guide** | [style_guide.py](~/bots/usp/style_guide.py) | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∏–ª—é —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ (fidelity 0.1-1.0) | ‚úÖ |
| **‚úèÔ∏è Sketch** | [sketch.py](~/bots/usp/sketch.py) | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–±—Ä–æ—Å–∫–æ–≤ –∏ —Å–∫–µ—Ç—á–µ–π | ‚úÖ |

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ bot.py:**
- `/styletransfer` ‚Üí —Å—Ç—Ä–æ–∫–∞ 702
- `/styleguide` ‚Üí —Å—Ç—Ä–æ–∫–∞ 722
- `/sketch` ‚Üí —Å—Ç—Ä–æ–∫–∞ 738

---

## ‚úÖ 5. –ü–ê–†–ê–ú–ï–¢–†–´ –ì–ï–ù–ï–†–ê–¶–ò–ò

**–°—Ç–∞—Ç—É—Å:** 53 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ‚Äî **100%**

### 18 —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π

```
none               3d-model           analog-film        anime
cinematic          comic-book         digital-art        enhance
fantasy-art        isometric          line-art           low-poly
modeling-compound  neon-punk          origami            photographic
pixel-art          tile-texture
```

### 10 —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

| –§–æ—Ä–º–∞—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|--------|----------|------------|
| `1:1` | –ö–≤–∞–¥—Ä–∞—Ç | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π |
| `21:9` | –£–ª—å—Ç—Ä–∞-—à–∏—Ä–æ–∫–∏–π | –ü–∞–Ω–æ—Ä–∞–º—ã |
| `16:9` | –®–∏—Ä–æ–∫–æ—ç–∫—Ä–∞–Ω–Ω—ã–π | –û–±–ª–æ–∂–∫–∏ |
| `3:2` | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π | –§–æ—Ç–æ |
| `5:4` | –ü–æ—á—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç | –ü–æ—Ä—Ç—Ä–µ—Ç—ã |
| `4:5` | –ü–æ—Ä—Ç—Ä–µ—Ç | Instagram |
| `2:3` | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç | –ü–µ—á–∞—Ç—å |
| `9:16` | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π | Stories |
| `9:21` | –£–ª—å—Ç—Ä–∞-–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π | –ú–æ–±–∏–ª—å–Ω—ã–π |

### 8 –≤–∏–¥–æ–≤ —Å—ä—ë–º–∫–∏ (Shot)

```
establishing        pov                wide              full body
medium             closeup            extreme closeup    over the shoulder
```

### 9 —Ä–∞–∫—É—Ä—Å–æ–≤ –∫–∞–º–µ—Ä—ã (Angle)

```
low angle          high angle         ground level       overhead
aerial shot        drone shot         birds eye view     wide angle
fisheye lens
```

### 8 —Ç–∏–ø–æ–≤ –æ—Å–≤–µ—â–µ–Ω–∏—è (Lighting)

```
colored gel        chiaroscuro        studio lighting    silhouette
iridescent         golden hour        long exposure      dramatic light
```

### Negative Prompt

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ negative prompts
- ‚úÖ –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GPT

---

## ‚úÖ 6. –ë–ò–ë–õ–ò–û–¢–ï–ö–ê GCS

**–°—Ç–∞—Ç—É—Å:** 100% ‚Äî **–ü–†–ï–í–û–°–•–û–î–ù–û**

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–∞–ø–∫–∞ –≤ GCS | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|-------------|----------|--------|
| **üé® –°–æ–∑–¥–∞–Ω–Ω—ã–µ** | `user_{id}/generated/` | –ò–∑ `/new` | ‚úÖ |
| **üì§ –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ** | `user_{id}/uploaded/` | –ò–∑ `/editmy` | ‚úÖ |
| **‚úèÔ∏è –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** | `user_{id}/edited/` | AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | ‚úÖ |
| **‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ** | `user_{id}/favorites/` | –ö–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö | ‚úÖ |

### –§—É–Ω–∫—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

| –§—É–Ω–∫—Ü–∏—è | Callback | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|---------|----------|------|--------|
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π | `lib_show_*` | [bot.py:1632-1705](~/bots/usp/bot.py#L1632-L1705) | ‚úÖ |
| –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ | `lib_filter_*` | [bot.py:3501-3527](~/bots/usp/bot.py#L3501-L3527) | ‚úÖ |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | `lib_stats` | [bot.py:3596-3612](~/bots/usp/bot.py#L3596-L3612) | ‚úÖ |
| –≠–∫—Å–ø–æ—Ä—Ç ZIP | `export_*` | [bot.py:3620-3648](~/bots/usp/bot.py#L3620-L3648) | ‚úÖ |
| –¢–µ–≥–∏ | `lib_tags`, `img_tags_*` | [bot.py:3588-3595](~/bots/usp/bot.py#L3588-L3595) | ‚úÖ |
| –ò–∑–±—Ä–∞–Ω–Ω–æ–µ | `img_fav_*`, `img_unfav_*` | [bot.py:3651-3665](~/bots/usp/bot.py#L3651-L3665) | ‚úÖ |
| –ü–æ–¥–µ–ª–∏—Ç—å—Å—è | `img_share_*` | [bot.py:3666-3677](~/bots/usp/bot.py#L3666-L3677) | ‚úÖ |
| –£–¥–∞–ª–µ–Ω–∏–µ | `img_delete_*` | [bot.py:3678-3701](~/bots/usp/bot.py#L3678-L3701) | ‚úÖ |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è | `lib_page_*` | [bot.py:3553-3586](~/bots/usp/bot.py#L3553-L3586) | ‚úÖ |

### –ú–æ–¥—É–ª–∏ GCS

**gcs_helper.py** ‚Äî –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- `get_bucket()` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GCS
- `save_user_image()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `get_user_images()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- `get_user_stats()` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `delete_user_image()` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ
- `get_public_url()` ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞

**gcs_advanced.py** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (12 —Ñ—É–Ω–∫—Ü–∏–π):

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `save_image_metadata()` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (JSON) | ‚úÖ |
| `get_image_metadata()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö | ‚úÖ |
| `add_to_favorites()` | –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ | ‚úÖ |
| `remove_from_favorites()` | –£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ | ‚úÖ |
| `is_in_favorites()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è | ‚úÖ |
| `toggle_favorite()` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ | ‚úÖ |
| `get_user_images_filtered()` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, –¥–∞—Ç–∞) | ‚úÖ |
| `export_user_images()` | –≠–∫—Å–ø–æ—Ä—Ç –≤ ZIP | ‚úÖ |
| `add_tags_to_image()` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ | ‚úÖ |
| `search_by_tags()` | –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º | ‚úÖ |
| `get_operation_stats()` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π | ‚úÖ |
| `get_images_near_expiry()` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ä–æ–∫–µ | ‚úÖ |

**keyboards_addon.py** ‚Äî –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (6 —Ñ—É–Ω–∫—Ü–∏–π):

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `library_kb_extended()` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | ‚úÖ |
| `library_filters_kb()` | –ú–µ–Ω—é —Ñ–∏–ª—å—Ç—Ä–æ–≤ | ‚úÖ |
| `image_actions_kb()` | –î–µ–π—Å—Ç–≤–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º | ‚úÖ |
| `pagination_kb()` | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º | ‚úÖ |
| `export_options_kb()` | –û–ø—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ | ‚úÖ |
| `confirm_delete_kb()` | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è | ‚úÖ |

### –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ù–∞–π–¥–µ–Ω–æ 18 —Ç–æ—á–µ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**

| –¢–∏–ø | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è |
|-----|------------|-----------|
| –°–æ–∑–¥–∞–Ω–Ω—ã–µ | 4 | `generated` |
| –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ | 1 | `uploaded` |
| –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ | 13 | `edited` |

**–¢—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `/new`
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `/editmy`
- ‚úÖ Upscale, Remove BG, Face Restore
- ‚úÖ Inpaint, Outpaint
- ‚úÖ Search & Recolor, Search & Replace, Erase
- ‚úÖ Variations, More, Reload

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GCS

```env
USE_GCS=true
GCS_BUCKET_NAME=tgbots-images
GCS_CREDENTIALS_PATH=tgbots-google-cloud.json
```

**–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
- ‚úÖ Bucket: `tgbots-images`
- ‚úÖ Credentials —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ

---

## ‚úÖ 7. –°–ò–°–¢–ï–ú–ê –ü–†–ï–°–ï–¢–û–í

**–°—Ç–∞—Ç—É—Å:** 100%

**–§–∞–π–ª:** [presets.py](~/bots/usp/presets.py)
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** `user_presets.json`

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `create_preset()` | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ | ‚úÖ |
| `get_user_presets()` | –°–ø–∏—Å–æ–∫ –ø—Ä–µ—Å–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |
| `get_preset()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ | ‚úÖ |
| `delete_preset()` | –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞ | ‚úÖ |

### –°–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```json
{
  "model": "sd3.5-large",
  "format": "1:1",
  "style": "photographic",
  "negative_prompt": "...",
  "additional_params": {
    "shot": "closeup",
    "angle": "low angle",
    "lighting": "golden hour"
  }
}
```

### Callback'–∏

| Callback | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç—Ä–æ–∫–∞ |
|----------|----------|--------|
| `presets_list` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ | bot.py:2595 |
| `presets_save_current` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ | bot.py:2607 |
| `preset_load_{name}` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ—Å–µ—Ç–∞ | bot.py:2620 |
| `preset_apply_{name}` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç | bot.py:2664 |
| `preset_delete_{name}` | –£–¥–∞–ª–∏—Ç—å –ø—Ä–µ—Å–µ—Ç | bot.py:2681 |

---

## ‚úÖ 8. –°–ò–°–¢–ï–ú–ê –ü–õ–ê–¢–ï–ñ–ï–ô

**–°—Ç–∞—Ç—É—Å:** 100%

**–§–∞–π–ª:** [payments.py](~/bots/usp/payments.py)

### –ü–∞–∫–µ—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –ì–µ–Ω–µ—Ä–∞—Ü–∏–π | Telegram Stars | USDT | –°—Ç–∞—Ç—É—Å |
|----|----------|-----------|----------------|------|--------|
| `small` | **Starter** | 50 | 100 ‚≠ê | $1.00 | ‚úÖ |
| `medium` | **Pro** | 150 | 250 ‚≠ê | $2.50 | ‚úÖ |
| `large` | **Premium** | 500 | 700 ‚≠ê | $7.00 | ‚úÖ |
| `unlimited` | **Unlimited** | 9999 | 2000 ‚≠ê | $20.00 | ‚úÖ |

### –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

#### Telegram Stars ‚≠ê

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**
- `precheckout_callback()` ‚Äî Pre-checkout –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `successful_payment()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–∞–∫–µ—Ç
2. –°–æ–∑–¥–∞—ë—Ç—Å—è invoice —á–µ—Ä–µ–∑ `send_invoice()`
3. Pre-checkout –≤–∞–ª–∏–¥–∞—Ü–∏—è (–≤—Å–µ–≥–¥–∞ True)
4. –°–ø–∏—Å–∞–Ω–∏–µ Stars —á–µ—Ä–µ–∑ Telegram
5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ `add_generations()`

#### CryptoBot (USDT) üí∞

**API:** CryptoBot API
**–¢–æ–∫–µ–Ω:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ `.env`
**–í–∞–ª—é—Ç–∞:** USDT

**–§—É–Ω–∫—Ü–∏–∏:**
- `create_cryptobot_invoice()` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø–ª–∞—Ç—É
- Webhook –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–∞ —á–µ—Ä–µ–∑ CryptoBot API
2. –ü–æ–ª—É—á–µ–Ω–∏–µ `pay_url`
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ CryptoBot
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

### –§—É–Ω–∫—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `get_all_packages_message()` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ | ‚úÖ |
| `format_package_message()` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è | ‚úÖ |
| `create_cryptobot_invoice()` | –°–æ–∑–¥–∞–Ω–∏–µ CryptoBot –∏–Ω–≤–æ–π—Å–∞ | ‚úÖ |
| `get_package_info()` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ | ‚úÖ |

---

## ‚úÖ 9. –õ–ò–ú–ò–¢–´ –ò –†–ï–§–ï–†–ê–õ–´

**–°—Ç–∞—Ç—É—Å:** 100%

**–§–∞–π–ª:** [user_limits.py](~/bots/usp/user_limits.py)
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** `user_limits.json`

### –§—É–Ω–∫—Ü–∏–∏ –ª–∏–º–∏—Ç–æ–≤

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `can_generate()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π | ‚úÖ |
| `use_generation()` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 1 –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | ‚úÖ |
| `get_user_stats()` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ—Å—Ç–∞–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ) | ‚úÖ |
| `add_generations()` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π (–ø–æ–∫—É–ø–∫–∞/–∞–¥–º–∏–Ω) | ‚úÖ |
| `get_all_users()` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω) | ‚úÖ |

### –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `register_referral()` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ | ‚úÖ |
| `reward_referrer()` | –ù–∞–≥—Ä–∞–¥–∞ —Ä–µ—Ñ–µ—Ä–µ—Ä—É (+5 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π) | ‚úÖ |
| `get_referral_stats()` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | ‚úÖ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏–º–∏—Ç–æ–≤

```json
{
  "user_id": {
    "remaining": 10,
    "total_used": 5,
    "referrals": ["ref_id_1", "ref_id_2"],
    "referred_by": "referrer_id"
  }
}
```

### –õ–∏–º–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

- **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** 10 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- **–ó–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞:** +5 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- **–†–µ—Ñ–µ—Ä–∞–ª –ø–æ–ª—É—á–∞–µ—Ç:** 10 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ)

---

## ‚úÖ 10. –ò–°–¢–û–†–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ô

**–°—Ç–∞—Ç—É—Å:** 100%

**–§–∞–π–ª:** [image_library.py](~/bots/usp/image_library.py)
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** `user_library.json`

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `add_to_history()` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é | ‚úÖ |
| `get_user_history()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π | ‚úÖ |
| `get_favorites()` | –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | ‚úÖ |
| `toggle_favorite()` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ | ‚úÖ |
| `search_history()` | –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–º–ø—Ç–∞–º | ‚úÖ |
| `get_history_stats()` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ | ‚úÖ |
| `clear_history()` | –û—á–∏—Å—Ç–∫–∞ (–∫—Ä–æ–º–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ) | ‚úÖ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏

```json
{
  "id": 1701234567.123,
  "date": "2025-12-02T12:34:56",
  "prompt": "–ö–æ—Ç –Ω–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–µ",
  "english_prompt": "Cat sitting on windowsill",
  "model": "sd3.5-large",
  "format": "1:1",
  "style": "photographic",
  "negative_prompt": "blurry, low quality",
  "is_favorite": false
}
```

### Callback'–∏ –∏—Å—Ç–æ—Ä–∏–∏

| Callback | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç—Ä–æ–∫–∞ |
|----------|----------|--------|
| `lib_history_0` | –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | bot.py:2998 |
| `lib_view_{id}` | –î–µ—Ç–∞–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | bot.py:3035 |
| `lib_reuse_{id}` | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ | bot.py:3074 |

---

## ‚ö†Ô∏è 11. GOOGLE SHEETS

**–°—Ç–∞—Ç—É—Å:** 95% (1 —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–§–∞–π–ª:** [gsheets_logger.py](~/bots/usp/gsheets_logger.py)
**–¢–∞–±–ª–∏—Ü–∞:** `imagegen` (ID: `1TsPo12VGW8u9YmcEhWHcIL-6yWCZ0_svBgku9fTaE0s`)
**Credentials:** `tgbots-google-sheets.json` ‚úÖ

### –§—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `log_generation()` | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π | ‚úÖ |
| `update_user_generations()` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ | ‚úÖ |
| `log_payment()` | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π | ‚úÖ |
| `log_error()` | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ | ‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–∞ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

**–õ–∏—Å—Ç "Generations":**
- timestamp
- user_id
- username
- engine (sd/dalle)
- model
- prompt_ru
- prompt_en
- format_ratio
- style
- additional_params
- negative_prompt
- success
- error

**–õ–∏—Å—Ç "Users":**
- user_id
- username
- total_generations
- remaining_generations
- last_activity

**–õ–∏—Å—Ç "Payments":**
- timestamp
- user_id
- package_id
- amount
- currency
- method

### –°—Ç–∞—Ç—É—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```
‚úÖ Google Sheets Logger initialized: imagegen
‚úÖ Google Sheets structure initialized
```

---

## ‚ö†Ô∏è 12. TELEGRAM MINI APP

**–°—Ç–∞—Ç—É—Å:** 85% (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–§–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞:** [webapp_server.py](~/bots/usp/webapp_server.py)
**–ü–æ—Ä—Ç:** 5000 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
**URL:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env` (`WEBAPP_URL`)

### –§–∞–π–ª—ã Mini App

| –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `webapp_server.py` | ‚úÖ | Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä |
| `static/inpaint_editor.html` | ‚úÖ | –†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Å–æ–∫ –¥–ª—è Inpaint |
| `static/library.html` | ‚úÖ | –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª (–∑–∞–≥–ª—É—à–∫–∞) |
| `static/index.html` | ‚ùå | –ù–µ –Ω–∞–π–¥–µ–Ω (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ) |
| `static/editor.js` | ‚ùå | –ù–µ –Ω–∞–π–¥–µ–Ω (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ) |
| `static/style.css` | ‚ùå | –ù–µ –Ω–∞–π–¥–µ–Ω (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ) |

### –§—É–Ω–∫—Ü–∏–∏ Mini App

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç—Ä–æ–∫–∞ |
|---------|----------|--------|
| `upload_image_to_webapp()` | –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä | bot.py:219 |
| Callback `edit_inpaint` | –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (/editmy) | bot.py:3273 |
| Callback `action_inpaint` | –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (–ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏) | bot.py:2477 |
| `handle_web_app_data()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Å–∫–∏ –æ—Ç Mini App | bot.py:3800 |

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üé® Inpaint"
2. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `upload_image_to_webapp()`
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è URL: `{WEBAPP_URL}/edit/{user_id}`
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Mini App —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –º–∞—Å–∫–∏
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∏—Å—É–µ—Ç –º–∞—Å–∫—É –∫–∏—Å—Ç—å—é
6. –ú–∞—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–æ—Ç—É —á–µ—Ä–µ–∑ WebAppData
7. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è inpainting
8. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è Inpaint —á–µ—Ä–µ–∑ Stability AI

### –°—Ç–∞—Ç—É—Å

- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `inpaint_editor.html`
- ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É
- ‚úÖ WebApp —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## ‚úÖ 13. –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò

**–°—Ç–∞—Ç—É—Å:** 100%

### Watermark (–≤–æ—Ç–µ—Ä–º–∞—Ä–∫)

**–§–∞–π–ª:** [watermark.py](~/bots/usp/watermark.py)
**–§—É–Ω–∫—Ü–∏—è:** `add_watermark(image)`

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –±–æ—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ –≤—Å–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: Remove BG (—á—Ç–æ–±—ã –Ω–µ –ø–æ—Ä—Ç–∏—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
watermarked_image = add_watermark(result)
await context.bot.send_photo(uid, watermarked_image)
```

### URL to Image

**–§–∞–π–ª:** [utils.py](~/bots/usp/utils.py)
**–§—É–Ω–∫—Ü–∏—è:** `extract_text_from_url(url)`

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ URL —Å—Ç–∞—Ç—å–∏
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–º–∞—Ä–∏ —á–µ—Ä–µ–∑ GPT
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–∫–∏ –¥–ª—è —Å—Ç–∞—Ç—å–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏
3. GPT —Å–æ–∑–¥–∞—ë—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-–æ–±–ª–æ–∂–∫–∞

### Inline Mode

**Handler:** `InlineQueryHandler`
**–§—É–Ω–∫—Ü–∏—è:** `inline_query()`

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –ª—é–±–æ–≥–æ —á–∞—Ç–∞ —á–µ—Ä–µ–∑ `@botname`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–º–ø—Ç
- –ë–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç inline —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–°—Ç–∞—Ç—É—Å:**
```
‚úÖ Inline mode enabled - users can use @botname in any chat
```

### Refinement Mode

**–ö–Ω–æ–ø–∫–∏:**
- **üé® –ï—â–µ –ø–æ—Ö–æ–∂–∏–µ** (`action_more`) ‚Äî –≤–∞—Ä–∏–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞
- **üîÑ –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å** (`action_reload`) ‚Äî —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å** (`action_modify`) ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è `in_refinement_mode`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `saved_params`

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–§—É–Ω–∫—Ü–∏—è:** `show_final_prompt()`

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:**
- üí¨ –ü—Ä–æ–º–ø—Ç (—Ä—É—Å—Å–∫–∏–π)
- üé® –ú–æ–¥–µ–ª—å
- üìê –§–æ—Ä–º–∞—Ç
- üñåÔ∏è –°—Ç–∏–ª—å (–µ—Å–ª–∏ –Ω–µ "none")
- üé¨ –í–∏–¥, —Ä–∞–∫—É—Ä—Å, –æ—Å–≤–µ—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω—ã)
- üö´ Negative Prompt (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ö–Ω–æ–ø–∫–∞ –ø–æ–≤—Ç–æ—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞

**Callback:** `lib_reuse_{id}`
**–§–∞–π–ª:** bot.py:3074

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò–∑ –∏—Å—Ç–æ—Ä–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–º–æ–¥–µ–ª—å, —Ñ–æ—Ä–º–∞—Ç, —Å—Ç–∏–ª—å, –ø—Ä–æ–º–ø—Ç)
- –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ü—Ä–æ–≥—Ä–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**3 —ç—Ç–∞–ø–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:**

1. **–®–∞–≥ 1/3:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ —Å –ø–æ–º–æ—â—å—é ChatGPT-4o
2. **–®–∞–≥ 2/3:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è)
3. **–®–∞–≥ 3/3:** –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

## ‚úÖ 14. –ö–õ–ê–í–ò–ê–¢–£–†–´

**–°—Ç–∞—Ç—É—Å:** 12 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä ‚Äî 100%

**–§–∞–π–ª:** [keyboards.py](~/bots/usp/keyboards.py)

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–Ω–æ–ø–æ–∫ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|--------|
| `gpt_model_kb()` | –í—ã–±–æ—Ä GPT –º–æ–¥–µ–ª–∏ (4o, 5) | 2 | ‚úÖ |
| `image_engine_kb()` | –í—ã–±–æ—Ä –¥–≤–∏–∂–∫–∞ (SD/DALL-E) | 2 | ‚úÖ |
| `dalle_model_kb()` | –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ DALL-E | 2 | ‚úÖ |
| `dalle_size_kb()` | –†–∞–∑–º–µ—Ä DALL-E –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | 3 | ‚úÖ |
| `dalle_quality_kb()` | –ö–∞—á–µ—Å—Ç–≤–æ DALL-E 3 | 2 | ‚úÖ |
| `model_kb()` | –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ SD 3.5 | 4 | ‚úÖ |
| `format_kb()` | –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ | 9 | ‚úÖ |
| `style_kb()` | –í—ã–±–æ—Ä —Å—Ç–∏–ª—è | 18 | ‚úÖ |
| `shot_kb()` | –í–∏–¥ —Å—ä—ë–º–∫–∏ | 9 | ‚úÖ |
| `angle_kb()` | –†–∞–∫—É—Ä—Å –∫–∞–º–µ—Ä—ã | 10 | ‚úÖ |
| `lighting_kb()` | –¢–∏–ø –æ—Å–≤–µ—â–µ–Ω–∏—è | 9 | ‚úÖ |
| `additional_settings_kb()` | –•–æ—á—É/–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–æ–ø.–ø–∞—Ä–∞–º–µ—Ç—Ä—ã | 2 | ‚úÖ |
| `negative_prompt_kb()` | –î–æ–±–∞–≤–∏—Ç—å/–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å negative | 2 | ‚úÖ |
| `confirm_kb()` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/–°–æ–∑–¥–∞—Ç—å | 2 | ‚úÖ |
| `actions_kb()` | –î–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | 14 | ‚úÖ |
| `edit_actions_kb()` | –î–µ–π—Å—Ç–≤–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | 12 | ‚úÖ |
| `summary_kb()` | –î–ª—è URL —Å–∞–º–º–∞—Ä–∏ | 2 | ‚úÖ |
| `presets_main_kb()` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞–º–∏ | 3 | ‚úÖ |
| `presets_list_kb()` | –°–ø–∏—Å–æ–∫ –ø—Ä–µ—Å–µ—Ç–æ–≤ | –¥–∏–Ω–∞–º. | ‚úÖ |
| `preset_actions_kb()` | –î–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–µ—Å–µ—Ç–æ–º | 3 | ‚úÖ |
| `packages_kb()` | –ü–∞–∫–µ—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–π | 5 | ‚úÖ |
| `payment_method_kb()` | –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã | 3 | ‚úÖ |
| `skip_kb()` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å | 1 | ‚úÖ |
| `aspect_ratio_kb()` | –î–ª—è style guide | 9 | ‚úÖ |
| `fidelity_kb()` | Fidelity –¥–ª—è style guide | 3 | ‚úÖ |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (keyboards_addon.py)

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| `library_kb_extended()` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | ‚úÖ |
| `library_filters_kb()` | –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ | ‚úÖ |
| `image_actions_kb()` | –î–µ–π—Å—Ç–≤–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º | ‚úÖ |
| `pagination_kb()` | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º | ‚úÖ |
| `export_options_kb()` | –û–ø—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ | ‚úÖ |
| `confirm_delete_kb()` | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è | ‚úÖ |

---

## üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–æ–¥—É–ª—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|------------|--------|
| `bot.py` | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞ (4000+ —Å—Ç—Ä–æ–∫) | ‚úÖ |
| `dream_api.py` | Stable Diffusion 3.5 API | ‚úÖ |
| `dalle_api.py` | DALL-E API | ‚úÖ |
| `openai_helper.py` | OpenAI GPT –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤ | ‚úÖ |
| `ai_tools.py` | 9 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | ‚úÖ |
| `style_transfer.py` | –ü–µ—Ä–µ–Ω–æ—Å —Å—Ç–∏–ª—è | ‚úÖ |
| `style_guide.py` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∏–ª—é | ‚úÖ |
| `sketch.py` | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–±—Ä–æ—Å–∫–æ–≤ | ‚úÖ |
| `user_limits.py` | –õ–∏–º–∏—Ç—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã | ‚úÖ |
| `image_library.py` | –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π | ‚úÖ |
| `presets.py` | –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤ | ‚úÖ |
| `watermark.py` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ | ‚úÖ |
| `payments.py` | –ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | ‚úÖ |
| `gcs_helper.py` | –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ GCS | ‚úÖ |
| `gcs_advanced.py` | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ GCS | ‚úÖ |
| `gsheets_logger.py` | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Google Sheets | ‚úÖ |
| `keyboards.py` | –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã | ‚úÖ |
| `keyboards_addon.py` | –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ | ‚úÖ |
| `webapp_server.py` | Mini App —Å–µ—Ä–≤–µ—Ä | ‚úÖ |
| `utils.py` | –£—Ç–∏–ª–∏—Ç—ã (URL extraction) | ‚úÖ |
| `state.py` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º | ‚úÖ |
| `settings.py` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | ‚úÖ |

**–í—Å–µ–≥–æ –º–æ–¥—É–ª–µ–π:** 22
**–†–∞–±–æ—Ç–∞—é—Ç:** 22 (100%)

### –ö–æ–º–∞–Ω–¥—ã

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:** 13
- **–ê–¥–º–∏–Ω—Å–∫–∏–µ:** 2
- **–í—Å–µ–≥–æ:** 15 (100%)

### AI —Ñ—É–Ω–∫—Ü–∏–∏

- **–î–≤–∏–∂–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** 3 (SD 3.5, DALL-E, GPT)
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 9
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–∂–∏–º—ã:** 3
- **–í—Å–µ–≥–æ:** 15 (100%)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **–ú–æ–¥–µ–ª–∏:** 6 (4 SD + 2 DALL-E)
- **–°—Ç–∏–ª–∏:** 18
- **–§–æ—Ä–º–∞—Ç—ã:** 10
- **Shot:** 8
- **Angle:** 9
- **Lighting:** 8
- **–í—Å–µ–≥–æ:** 59 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –•—Ä–∞–Ω–∏–ª–∏—â–µ

- ‚úÖ Google Cloud Storage (bucket: tgbots-images)
- ‚úÖ Google Sheets (—Ç–∞–±–ª–∏—Ü–∞: imagegen)
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ JSON (limits, library, presets)
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: 18 —Ç–æ—á–µ–∫ –≤ –∫–æ–¥–µ

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

- ‚úÖ Telegram Stars
- ‚úÖ CryptoBot (USDT)
- ‚úÖ 4 –ø–∞–∫–µ—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û—Ü–µ–Ω–∫–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** | 98/100 | 2 –º–µ–ª–∫–∏—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞ (log_error, static —Ñ–∞–π–ª—ã) |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | 100/100 | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | 97/100 | GCS, Sheets —Ä–∞–±–æ—Ç–∞—é—Ç. Mini App ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | 100/100 | –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω, –æ—à–∏–±–æ–∫ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ |

### **–û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê: 98.75/100** üèÜ

**–ì—Ä–∞–¥–∞—Ü–∏—è:**
- 90-100: –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- 80-89: –û—Ç–ª–∏—á–Ω–æ ‚≠ê‚≠ê‚≠ê‚≠ê
- 70-79: –•–æ—Ä–æ—à–æ ‚≠ê‚≠ê‚≠ê
- 60-69: –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ ‚≠ê‚≠ê
- 0-59: –ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ ‚≠ê

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

**–ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–û**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ 100%.

---

## ‚ö†Ô∏è –ù–ï–ö–†–ò–¢–ò–ß–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. Google Sheets ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è log_error()

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
**–í–ª–∏—è–Ω–∏–µ:** –ù–µ—Ç
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

### 2. Mini App ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ static —Ñ–∞–π–ª—ã

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
**–§–∞–π–ª—ã:** `static/index.html`, `static/editor.js`, `static/style.css`
**–ü—Ä–∏—á–∏–Ω–∞:** –í—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `inpaint_editor.html`
**–í–ª–∏—è–Ω–∏–µ:** –ù–µ—Ç
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## ‚úÖ –í–´–í–û–î–´

### –ì–ª–∞–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. ‚úÖ **–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω** ‚Äî –≤—Å–µ –∑–∞—è–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞** ‚Äî 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–æ–¥–æ–º
3. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** ‚Äî GCS, Google Sheets, Telegram API
4. ‚úÖ **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** ‚Äî Telegram Stars + CryptoBot
5. ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** ‚Äî 9 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, 18 —Å—Ç–∏–ª–µ–π, 59 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ì–æ—Ç–æ–≤ –Ω–∞ 98%
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (GCS)
- ‚úÖ **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:** 2 —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ **UX:** Inline mode, –ø—Ä–µ—Å–µ—Ç—ã, –∏—Å—Ç–æ—Ä–∏—è, —Ä–µ—Ñ–µ—Ä–∞–ª—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. ‚úÖ **–î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω** ‚Äî –±–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤
2. ‚ö†Ô∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å log_error() –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî GCS –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. ‚úÖ **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥** ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É

---

## üìù –ü–û–î–ü–ò–°–¨

**–ü—Ä–æ–≤–µ—Ä–∫—É –≤—ã–ø–æ–ª–Ω–∏–ª:** Claude (Sonnet 4.5)
**–î–∞—Ç–∞:** 2025-12-02
**–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏:** ~2 —á–∞—Å–∞
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π:** 150+
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 4000+

---

## üìé –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–¥

- [bot.py](~/bots/usp/bot.py) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
- [ai_tools.py](~/bots/usp/ai_tools.py) ‚Äî AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- [gcs_advanced.py](~/bots/usp/gcs_advanced.py) ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ GCS
- [payments.py](~/bots/usp/payments.py) ‚Äî –ø–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- [user_limits.py](~/bots/usp/user_limits.py) ‚Äî –ª–∏–º–∏—Ç—ã –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–°–µ—Ä–≤–µ—Ä:** root@31.44.7.144
**–ü—É—Ç—å:** ~/bots/usp
**–ü–æ—Ä—Ç –±–æ—Ç–∞:** Polling (–±–µ–∑ webhook)
**GCS Bucket:** tgbots-images
**Google Sheets:** 1TsPo12VGW8u9YmcEhWHcIL-6yWCZ0_svBgku9fTaE0s

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á—ë—Ç–∞**
