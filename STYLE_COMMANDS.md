# Команды работы со стилем и контролем генерации

## /StyleTransfer - Перенос стиля между изображениями

**Назначение:** Применяет стиль одного изображения к другому

**Процесс:**
1. `/styletransfer` - запуск команды
2. Загрузить исходное изображение (к которому применяется стиль)
3. Загрузить изображение-стиль (откуда берется стиль)
4. Ввести параметры:
   - **Prompt** - текстовое описание (опционально, можно "-")
   - **Negative Prompt** - что исключить (опционально, можно "-")
   - **Style Strength** - сила применения стиля (0.1-1.0)
   - **Composition Fidelity** - точность композиции (0.1-1.0)
   - **Change Strength** - сила изменений (0.1-1.0)

**Пример использования:**
```
/styletransfer
[Загрузите фото кота]
[Загрузите абстрактную картину]
Prompt: -
Negative Prompt: -
Style Strength: 0.8
Composition Fidelity: 0.9
Change Strength: 0.9
```

**Результат:** Фото кота будет перерисовано в стиле абстрактной картины

---

## /StyleGuide - Генерация по стилю референса

**Назначение:** Создает НОВОЕ изображение на основе промпта, используя стиль референсного изображения

**Процесс:**
1. `/styleguide` - запуск команды
2. Загрузить изображение-референс (откуда берется стиль)
3. Ввести параметры:
   - **Prompt** - описание того, что генерировать (ОБЯЗАТЕЛЬНО!)
   - **Negative Prompt** - что исключить (опционально, можно "-")
   - **Aspect Ratio** - формат изображения (1:1, 21:9, 16:9, 3:2, 5:4, 4:5, 2:3, 9:16, 9:21)
   - **Fidelity** - точность следования стилю (0.1-1.0)

**Пример использования:**
```
/styleguide
[Загрузите пастельную картину с пейзажем]
Prompt: cat in the forest
Negative Prompt: -
Aspect Ratio: 1:1
Fidelity: 0.5
```

**Результат:** Новое изображение кота в лесу, выполненное в пастельном стиле референса

---

## Разница между командами

| Функция | Style Transfer | Style Guide |
|---------|---------------|-------------|
| Количество изображений | 2 (исходное + стиль) | 1 (только стиль) |
| Что делает | Применяет стиль к существующему изображению | Создает НОВОЕ изображение |
| Prompt | Опционально | Обязательно |
| Сохраняет композицию | Да (регулируется fidelity) | Нет (создает новое) |
| Использование | Стилизация фото | Генерация в стиле |

---

## API Endpoints

- **Style Transfer:** `https://api.stability.ai/v2beta/stable-image/control/style`
  - Параметры: init_image, style_image, промпты, strength параметры

- **Style Guide:** `https://api.stability.ai/v2beta/stable-image/control/style`
  - Параметры: image, prompt, aspect_ratio, fidelity

---

## Примеры параметров

**Высокая точность стиля:**
- Style Strength: 0.9-1.0
- Fidelity: 0.7-1.0

**Средняя точность:**
- Style Strength: 0.5-0.7
- Fidelity: 0.4-0.6

**Легкое применение стиля:**
- Style Strength: 0.1-0.3
- Fidelity: 0.1-0.3

---

## /Sketch - Генерация из наброска

**Назначение:** Создает детализированное изображение на основе наброска/скетча

**Процесс:**
1. `/sketch` - запуск команды
2. Загрузить изображение наброска/скетча
3. Ввести параметры:
   - **Prompt** - описание желаемого результата (ОБЯЗАТЕЛЬНО!)
   - **Negative Prompt** - что исключить (опционально, можно "-")
   - **Control Strength** - сила следования наброску (0.1-1.0)

**Пример использования:**
```
/sketch
[Загрузите простой набросок собора]
Prompt: a creepy wooden cathedral in the forest
Negative Prompt: -
Control Strength: 0.5
```

**Результат:** Детализированное изображение собора, следующее структуре наброска

**Рекомендуемые значения Control Strength:**

**Точное следование наброску:**
- Control Strength: 0.7-1.0
- Результат максимально близок к структуре скетча

**Умеренное влияние:**
- Control Strength: 0.4-0.6
- Баланс между наброском и творческой интерпретацией

**Свободная интерпретация:**
- Control Strength: 0.1-0.3
- Набросок используется как общая направляющая

**API Endpoint:**
- `https://api.stability.ai/v2beta/stable-image/control/sketch`
- Параметры: image, prompt, negative_prompt, control_strength

---

## Сравнение всех команд

| Команда | Входные данные | Что делает | Prompt обязателен |
|---------|---------------|-----------|-------------------|
| `/styletransfer` | 2 изображения (исходное + стиль) | Применяет стиль к фото | Нет |
| `/styleguide` | 1 изображение (стиль) | Создает новое в стиле | Да |
| `/sketch` | 1 изображение (набросок) | Детализирует скетч | Да |

**Когда использовать:**
- **Style Transfer** - есть готовое фото, хочу в другом стиле
- **Style Guide** - есть референс стиля, хочу новое изображение в этом стиле
- **Sketch** - есть набросок, хочу детализированное изображение
